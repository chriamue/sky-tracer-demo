<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
        />
        <title>Sky Tracer Demo Presentation</title>

        <!-- Reveal.js CDN Links -->
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/reset.css"
        />
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/reveal.css"
        />
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/theme/black.css"
        />

        <!-- Theme used for syntax highlighting of code -->
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/plugin/highlight/monokai.css"
        />

        <style>
            /* Additional custom styles if needed */
            .slides {
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
                    Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans",
                    "Helvetica Neue", sans-serif;
            }
            .slides h1,
            .slides h2 {
                text-transform: none;
            }
            .slides a {
                color: #42affa;
            }
        </style>
    </head>
    <body>
        <div class="reveal">
            <div class="slides">
                <section>
                    <h1>Sky Tracer Demo</h1>
                    <p>Tracing on</p>
                    <p>A Rust Microservices Demo</p>
                </section>

                <section>
                    <section>
                        <h2>Project Overview</h2>
                        <p>A modern flight tracking ecosystem demonstrating:</p>
                        <ul>
                            <li>üîÑ Microservices Architecture</li>
                            <li>
                                üìä Observability
                                <ul>
                                    <li>üîç Distributed Tracing</li>
                                    <li>üìà Performance Monitoring</li>
                                    <li>üö® Error Tracking</li>
                                </ul>
                            </li>
                            <li>üåê Frontend Applications</li>
                            <li>
                                üîß Core Components
                                <ul>
                                    <li>
                                        üì¶ <code>sky-tracer</code>: Shared core
                                        library and protocols
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </section>
                    <section>
                        <h2>Project Overview</h2>
                        <p>A modern flight tracking ecosystem demonstrating:</p>
                        <ul>
                            <li>
                                üöÄ Modern Web Features
                                <ul>
                                    <li>
                                        üñ•Ô∏è Server-Side Rendering (SSR) for
                                        better SEO
                                    </li>
                                    <li>
                                        ‚ö° Client-Side Rendering (CSR) for
                                        interactive features
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </section>
                </section>

                <section>
                    <h2>User Roles</h2>
                    <div
                        class="grid"
                        style="
                            display: grid;
                            grid-template-columns: 1fr 1fr 1fr;
                            gap: 20px;
                        "
                    >
                        <div>
                            <h3>‚úàÔ∏è Flight Staff</h3>
                            <ul>
                                <li>Uses Cockpit Dashboard</li>
                                <li>Accesses Airport Data</li>
                                <li>Monitors Flight Status</li>
                            </ul>
                        </div>
                        <div>
                            <h3>üß≥ Travelers</h3>
                            <ul>
                                <li>Views Delay-O-Rama</li>
                                <li>Checks Flightmare</li>
                                <li>Tracks Flight Status</li>
                            </ul>
                        </div>
                        <div>
                            <h3>üõ∏ Satellite Operators</h3>
                            <ul>
                                <li>Manages Satellites</li>
                                <li>Controls Launches</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section>
                    <section>
                        <h2>Core Services</h2>
                        <ul>
                            <li>üè¢ Airport Anywhere</li>
                            <li>üéÆ Flight Controller</li>
                            <li>üõ∞Ô∏è Orbital Beacon</li>
                            <li>üóº Tower of Babel</li>
                        </ul>
                    </section>

                    <section>
                        <h2>User Interfaces</h2>
                        <ul>
                            <li>üéØ Cockpit Dashboard</li>
                            <li>‚è∞ Delay-O-Rama</li>
                            <li>üò± Flightmare Tracker</li>
                        </ul>
                    </section>
                </section>

                <section>
                    <section>
                        <h2>üè¢ Airport Anywhere</h2>
                        <p>
                            Description: Comprehensive airport information
                            lookup service
                        </p>
                        <p>Technology: Rust, Axum, Server-Side Rendering</p>
                        <p>URL: <a href="/airports">/airports</a></p>
                    </section>

                    <section>
                        <h2>üóº Tower of Babel</h2>
                        <p>
                            Description: Flight aggregation and position service
                        </p>
                        <p>Technology: Rust, Axum</p>
                        <p>URL: <a href="/babel">/babel</a></p>
                    </section>

                    <section>
                        <h2>‚è∞ Delay-O-Rama</h2>
                        <p>Description: Real-time flight delay monitoring</p>
                        <p>Technology: Rust, Axum, Server-Side Rendering</p>
                        <p>URL: <a href="/delays">/delays</a></p>
                    </section>

                    <section>
                        <h2>üéÆ Flight Controller</h2>
                        <p>Description: Manages flight schedules and data.</p>
                        <p>Technology: Rust, Axum</p>
                        <p>URL: <a href="/flights">/flights</a></p>
                    </section>

                    <section>
                        <h2>üõ∞Ô∏è Orbital Beacon</h2>
                        <p>Description: Satellite positioning service.</p>
                        <p>Technology: Rust, Axum</p>
                        <p>URL: <a href="/satellites">/satellites</a></p>
                    </section>

                    <section>
                        <h2>üéØ Cockpit Dashboard</h2>
                        <p>Description: Flight monitoring dashboard.</p>
                        <p>Technology: Yew</p>
                        <p>URL: <a href="/cockpit">/cockpit</a></p>
                    </section>

                    <section>
                        <h2>üò± Flightmare Tracker</h2>
                        <p>Description: Simulated flight delay tracker.</p>
                        <p>Technology: Yew</p>
                        <p>URL: <a href="/flightmare">/flightmare</a></p>
                    </section>
                </section>

                <section>
                    <section>
                        <h2>üèóÔ∏è Service Architecture</h2>
                        <div class="mermaid">
                            <pre>
                graph TD
                    %% Users
                    FS[‚úàÔ∏è Flight Staff]:::staff
                    TR[üß≥ Travelers]:::traveler
                    SO[üõ∏ Satellite Operator]:::operator

                    %% User Interfaces
                    CP[üéØ Cockpit]:::ui
                    DO[‚è∞ Delay-O-Rama]:::ui
                    FM[üò± Flightmare]:::ui

                    %% Core Services
                    TB[üóº Tower of Babel]:::service
                    FC[üéÆ Flight Controller]:::service
                    OB[üõ∞Ô∏è Orbital Beacon]:::service
                    AA[üè¢ Airport Anywhere]:::service

                    %% User Connections
                    FS --> CP
                    TR --> DO
                    TR --> FM
                    SO --> OB

                    %% Service Dependencies
                    CP --> FC
                    DO --> TB
                    FM --> FC

                    TB --> FC
                    TB --> OB

                    FC --> AA
                    FC --> OB

                    OB --> AA

                    %% Styling
                    classDef staff fill:#2e7d32,stroke:#fff,stroke-width:2px,color:#fff
                    classDef traveler fill:#d32f2f,stroke:#fff,stroke-width:2px,color:#fff
                    classDef operator fill:#f57c00,stroke:#fff,stroke-width:2px,color:#fff
                    classDef ui fill:#3f51b5,stroke:#fff,stroke-width:2px,color:#fff
                    classDef service fill:#1976d2,stroke:#fff,stroke-width:2px,color:#fff

                    %% Subgraphs for organization
                    subgraph Users
                        FS
                        TR
                        SO
                    end

                    subgraph Frontends
                        CP
                        DO
                        FM
                    end

                    subgraph Services
                        TB
                        FC
                        OB
                        AA
                    end
                            </pre>
                        </div>
                    </section>
                </section>

                <section>
                    <h2>Distributed Tracing</h2>
                    <ul>
                        <li>Tracks requests across multiple services</li>
                        <li>Visualizes system interactions</li>
                        <li>Measures performance and latency</li>
                        <li>Identifies bottlenecks and errors</li>
                    </ul>
                </section>

                <section>
                    <h2>OpenTelemetry Components</h2>
                    <ul>
                        <li>Traces: End-to-end request flows</li>
                        <li>Spans: Individual operations</li>
                        <li>Context: Metadata and relationships</li>
                        <li>Attributes: Key-value pairs</li>
                    </ul>
                </section>

                <section>
                    <h2>OpenTelemetry Protocol (OTEL)</h2>
                    <ul>
                        <li>Standardized telemetry data format</li>
                        <li>Language-agnostic specification</li>
                        <li>Supports multiple backends</li>
                        <li>Extensible and vendor-neutral</li>
                    </ul>
                </section>

                <section>
                    <h2>Jaeger Integration</h2>
                    <ul>
                        <li>OTEL collector receives traces</li>
                        <li>Processes and enriches data</li>
                        <li>Stores in Jaeger backend</li>
                        <li>Visualizes in Jaeger UI</li>
                    </ul>
                </section>

                <section>
                    <h2>Benefits of Tracing</h2>
                    <div
                        class="grid"
                        style="display: grid; grid-template-columns: 1fr 1fr"
                    >
                        <div>
                            <h3>Debugging</h3>
                            <ul>
                                <li>Request flow visualization</li>
                                <li>Error propagation tracking</li>
                                <li>Performance bottlenecks</li>
                            </ul>
                        </div>
                        <div>
                            <h3>Monitoring</h3>
                            <ul>
                                <li>Service health metrics</li>
                                <li>Latency measurements</li>
                                <li>Error rates and patterns</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section>
                    <style>
                        .mermaid svg {
                            background-color: #f5f5f5;
                            max-width: 900px;
                            max-height: 500px;
                        }
                    </style>
                    <section>
                        <h2>Real-world Example</h2>
                        <div class="mermaid">
                            <pre>
sequenceDiagram
    participant C as Cockpit
    participant FC as Flight Controller
    participant OB as Orbital Beacon

    C->>FC: Get Flight Position
    FC->>OB: Calculate Position
    OB-->>FC: Position Data
    FC-->>C: Updated Position
                            </pre>
                        </div>
                        <p>Each arrow represents a traced operation</p>
                    </section>

                    <section>
                        <style>
                            .mermaid {
                                width: 100%;
                                height: auto;
                                font-size: 14px;
                            }
                        </style>
                        <h2>Trace Example with Spans</h2>
                        <div class="mermaid">
                            <pre>
sequenceDiagram
    participant C as Cockpit
    participant FC as Flight Controller
    participant OB as Orbital Beacon
    participant AA as Airport Anywhere

    Note over C,AA: Trace ID: abc-123

    C->>+FC: Get Flight Position
    Note right of FC: Span: handle_request

    FC->>AA: Fetch Airport Data
    AA-->>FC: Airport Coordinates

    FC->>+OB: Calculate Position
    Note right of OB: Span: compute_position
    OB->>OB: Process Flight Path
    OB-->>-FC: Position Data

    FC-->>-C: Updated Position
    Note over C,FC: End Trace
                            </pre>
                        </div>
                        <p>Shows trace context and span relationships</p>
                    </section>

                    <section>
                        <h2>Trace vs Span vs Context</h2>
                        <div class="mermaid">
                            <pre>
                    sequenceDiagram
                        participant C as Cockpit Dashboard
                        participant TB as Tower of Babel
                        participant FC as Flight Controller
                        participant OB as Orbital Beacon
                        participant AA as Airport Anywhere

                        Note over C,AA: Trace: t.4bf9...4736 (Flight Position Request)
                        Note over C,AA: Root Span: s.6c96...f990

                        C->>+TB: Get Flight Position
                        Note right of TB: Span Context
                        Note right of TB: Trace: t.4bf9...4736
                        Note right of TB: Span: s.7859...5d4f
                        Note right of TB: Parent: s.6c96...f990

                        TB->>+FC: Fetch Flight Details
                        Note right of FC: Span Context
                        Note right of FC: Trace: t.4bf9...4736
                        Note right of FC: Span: s.9c79...c2f8
                        Note right of FC: Parent: s.7859...5d4f

                        FC->>AA: Get Airport Data
                        AA-->>FC: Airport Coordinates

                        FC->>+OB: Calculate Position
                        Note right of OB: Span Context
                        Note right of OB: Trace: t.4bf9...4736
                        Note right of OB: Span: s.3e45...a1b2
                        Note right of OB: Parent: s.9c79...c2f8

                        OB-->>-FC: Satellite Position
                        FC-->>-TB: Flight Position
                        TB-->>-C: Current Location
                            </pre>
                        </div>
                    </section>
                    <section>
                        <ul>
                            <li>
                                <b>Trace:</b> Complete flight position request
                                across all services
                            </li>
                            <li>
                                <b>Spans:</b> Individual operations (API calls,
                                calculations)
                            </li>
                            <li>
                                <b>Context:</b> Carries trace and span IDs plus
                                metadata
                            </li>
                        </ul>
                    </section>

                    <section>
                        <h2>Span Context Example</h2>
                        <pre><code class="json">
                    {
                      "trace_id": "t.4bf9...4736",
                      "span_id": "s.9c79...c2f8",
                      "trace_flags": "01",
                      "trace_state": {
                        "flight_number": "FRA123",
                        "departure": "FRA",
                        "arrival": "LIS",
                        "satellite_id": "sat-789"
                      }
                    }
                        </code></pre>
                        <ul>
                            <li>
                                <b>trace_id:</b> Identifies entire flight
                                position request flow
                            </li>
                            <li>
                                <b>span_id:</b> Unique ID for flight controller
                                operation
                            </li>
                            <li>
                                <b>trace_state:</b> Flight-specific context data
                            </li>
                        </ul>
                    </section>

                    <section>
                        <h2>Trace Flags</h2>
                        <ul>
                            <li>
                                Represent tracing options, typically related to
                                sampling
                            </li>
                            <li>
                                A single byte (8 bits), where the least
                                significant bit represents the "sampled" flag
                            </li>
                            <li>"01" indicates the trace should be sampled</li>
                            <li>
                                Sampling is the mechanism to reduce volume of
                                traces to manage backend costs
                            </li>
                        </ul>
                    </section>

                    <section>
                        <h2>Trace State</h2>
                        <ul>
                            <li>
                                Carries vendor-specific trace information as
                                key-value pairs
                            </li>
                            <li>
                                Allows vendors to propagate context and
                                correlate traces across their systems
                            </li>
                            <li>
                                <b>Hypothetical Example:</b>
                                <code>acme_geo=lat:50.033,lon:8.571</code>
                                <ul>
                                    <li>
                                        A hypothetical geospatial data provider
                                        <code>acme_geo</code> might include the
                                        current latitude and longitude
                                    </li>
                                    <li>
                                        This information could be used for later
                                        analysis or visualization
                                    </li>
                                </ul>
                            </li>
                            <li>
                                Keys and values are specific to the vendor and
                                implementation
                            </li>
                        </ul>
                    </section>
                </section>

                <section>
                    <h2>Live Demo</h2>
                    <ol>
                        <li>Create a new flight</li>
                        <li>Track position updates</li>
                        <li>View trace in Jaeger UI</li>
                        <li>Analyze performance</li>
                    </ol>
                </section>

                <section>
                    <h2>Best Practices</h2>
                    <ul>
                        <li>Meaningful span names</li>
                        <li>Relevant attributes</li>
                        <li>Proper error handling</li>
                        <li>Context propagation</li>
                        <li>Sampling strategy</li>
                    </ul>
                </section>

                <section>
                    <h2>Thank You!</h2>
                    <p>Questions?</p>
                </section>
            </div>
        </div>

        <!-- Reveal.js Scripts from CDN -->
        <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/reveal.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/plugin/notes/notes.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/plugin/markdown/markdown.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/plugin/highlight/highlight.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/reveal.js-mermaid-plugin@11.4.1/plugin/mermaid/mermaid.js"></script>

        <script>
            Reveal.initialize({
                hash: true,
                slideNumber: true,
                plugins: [
                    RevealMarkdown,
                    RevealHighlight,
                    RevealNotes,
                    RevealMermaid,
                ],
                // Optional configurations
                controls: true,
                progress: true,
                center: true,
                transition: "slide", // none/fade/slide/convex/concave/zoom
            });
        </script>
    </body>
</html>
